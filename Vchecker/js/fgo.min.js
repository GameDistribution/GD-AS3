(function(l){function f(){if("undefined"===typeof google||"undefined"===typeof google.ima)p("//imasdk.googleapis.com/js/sdkloader/ima3.js",function(){f()});else if("undefined"===typeof $)p("//code.jquery.com/jquery-2.1.4.min.js",function(){f()});else{for(var h=document.getElementsByTagName("object"),q=document.getElementsByTagName("embed"),c=0;c<h.length;c++){var r=h[c];"undefined"!==typeof r.jsGDO&&(d.master=new t(r))}for(c=0;c<q.length;c++)h=q[c],"undefined"!==typeof h.jsGDO&&(d.master=new t(h));
"undefined"!==typeof d.master&&(l.pauseGame=d.master.pauseGame,l.resumeGame=d.master.resumeGame,l.requestAds=d.master.requestAds,l.jsShowBanner=d.master.requestAds,d.master.jsOnAdsReady())}}function t(h){function q(a){b._adsManager=a.getAdsManager(e);b._adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,y);b._adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,c);b._adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,r);b._adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,
f);b._adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,p);b._adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,t);b._adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,C);try{b._adsManager.init(g.innerWidth(),g.innerHeight(),google.ima.ViewMode.NORMAL),b._adsManager.start()}catch(D){w()}}function c(a){a=a.getAd();e.jsOnAdsLoaded(a.getContentType());a.isLinear()||(b._container.firstChild.style.top="-"+(g.innerHeight()-a.getHeight())/2+"px",b._container.style["background-color"]=
"#f0f0f0",z=setTimeout(m,15E3))}function r(a){a=a.getAd();e.jsOnAdsStarted();A();a.isLinear()&&(u=setInterval(function(){},300))}function f(a){a.getAd()}function p(a){a.getAd().isLinear()&&clearInterval(u);m()}function t(a){a.getAd().isLinear()&&clearInterval(u);m()}function C(a){a.getAd().isLinear()&&clearInterval(u);m()}function y(a){console.log(a.getError());m();e.jsOnAdsError()}function m(){if("undefined"!==typeof b._adsManager){e.jsOnAdsClosed();try{b._adsManager.destroy(),w()}catch(a){}delete b._adsManager}"undefined"!==
typeof b._container&&(document.body.removeChild(b._container),delete b._container);clearTimeout(z)}function A(){e.jsPauseGame()}function w(){e.jsResumeGame()}var b=this,e=h,k=d.q[0][1],g=$(e);e.jsGDO();var v,x,u,z,B=d.q[0][2];Date.prototype.getUnixTime=function(){return this.getTime()/1E3|0};32===k.length&&(k=k.substr(0,8)+"-"+k.substring(8,12)+"-"+k.substring(12,16)+"-"+k.substring(16,20)+"-"+k.substring(20,32));(new Image).src="https://analytics.tunnl.com/collect?type=flash&evt=game.play&uuid="+
k+"&aid="+B+"&c="+(new Date).getUnixTime();return{requestAds:function(){m();var a=g.offset();b._container=document.createElement("div");b._container.style.position="absolute";b._container.style.width=g.innerWidth()+"px";b._container.style.height=g.innerHeight()+"px";b._container.style.top=a.top+"px";b._container.style.left=a.left+"px";b._container.style.zIndex=9999;b._containerjq=$(b._container);document.body.appendChild(b._container);x=new google.ima.AdDisplayContainer(b._container);x.initialize();
v=new google.ima.AdsLoader(x);v.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,q,!1);v.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,y,!1);a=new google.ima.AdsRequest;for(var c=g.innerWidth(),d=g.innerHeight(),e={w:0,h:0},h=[{w:728,h:480},{w:728,h:90},{w:640,h:480},{w:336,h:280},{w:300,h:250},{w:250,h:250},{w:200,h:200}],f=0;f<h.length;f++){var n=h[f];c>=n.w&&d>=n.h&&n.w>=e.w&&n.h>=e.h&&(e=n)}0!=e.w&&(c="https://adtag.tunnl.com/adsr?pa=4&c=1&sz=640x480&"+("a="+
B+"&"),c+="gameid="+k+"&",c=c+"ad_type=video_image&adapter=off&gametype=flash_ext&mfb=2&"+("page_url="+encodeURIComponent(l.location!=l.parent.location?document.referrer:document.location.href)+""),a.adTagUrl=c,a.linearAdSlotWidth=g.innerWidth(),a.linearAdSlotHeight=g.innerHeight(),a.nonLinearAdSlotWidth=g.innerWidth(),a.nonLinearAdSlotHeight=g.innerHeight(),a.forceNonLinearFullSlot=!0,a.disableCompanionAds=!0,v.requestAds(a))},pauseGame:A,resumeGame:w,jsOnAdsReady:function(){e.jsOnAdsReady()}}}function p(d,
f){var c=document.createElement("script");c.type="text/javascript";c.readyState?c.onreadystatechange=function(){if("loaded"==c.readyState||"complete"==c.readyState)c.onreadystatechange=null,f()}:c.onload=function(){f()};c.src=d;document.getElementsByTagName("head")[0].appendChild(c)}var d=l.fgo;"undefined"===typeof d.master&&f()})(window);
